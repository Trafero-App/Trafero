import asyncpg
import asyncio
import os
from dotenv import load_dotenv, find_dotenv
from create_db_tables import recreate_tables
async def main():
    recreate_tables()

    load_dotenv(find_dotenv())
    db = await asyncpg.connect(os.getenv("db_url"))

    """
    passenger:
    =====================================================================
    | id | user_name | password  | first_name | last_name | phone_number|
    =====================================================================
    | 1  | User1     | User1pass | User1first | User1last | 11111111    |
    ---------------------------------------------------------------------
    | 2  | User2     | User2pass | User2first | User2last | 22222222    |
    ---------------------------------------------------------------------
    | 4  | User4     | User4pass | User4first | User4last | 44444444    |
    ---------------------------------------------------------------------
    | 5  | User5     | User5pass | User5first | User5last | 55555555    |
    =====================================================================

    route:
    =========================
    | id | file_name        |
    =========================
    | 1  | bus_15_1.geojson |
    -------------------------
    | 2  | bus_15_2.geojson |
    -------------------------
    | 3  | van_sea_road.geojson |
    =========================


    vehicle:
    =========================================
    | id | route_id | phone_number | status |
    =========================================
    | 1  | 2        | 11111112     |   T    |
    -----------------------------------------
    | 2  | 2        | 11111113     |   T    |
    ----------------------------------------- 
    | 3  | 2        | 11111114     |   T    |
    -----------------------------------------
    | 4  | 1        | 11111115     |   T    |
    ----------------------------------------- 
    | 5  | 1        | 11111116     |   T    |
    =========================================
    vehicle_location: 
    ==========================================
    | id | longitude | latitude | vehicle_id |
    ==========================================
    | 1  | 35.5149   | 33.8966  | 1          |
    ------------------------------------------
    | 2  | 35.5119   | 33.8979  | 3          |
    ------------------------------------------
    | 3  | 35.5295   | 33.8987  | 2          |
    ------------------------------------------
    | 4  | 35.5276   | 33.8990  | 4          |
    ==========================================
    waypoint:
    ==========================================
    | id | longitude | latitude | route_id   |
    ==========================================
    """
    await db.execute("""INSERT INTO passenger 
                     (user_name, password, first_name, last_name, phone_number) VALUES
                     ('User1', 'User1pass', 'User1first', 'User1last', '11111111'),
                     ('User2', 'User2pass', 'User2first', 'User2last', '22222222'),
                     ('UserDUD', 'X', 'X', 'X', '90'),
                     ('User4', 'User4pass', 'User4first', 'User4last', '44444444'),
                     ('User5', 'User5pass', 'User5first', 'User5last', '55555555');


                     DELETE FROM passenger WHERE id=3;

                    INSERT INTO route (file_name, name, description) VALUES 
                    ('bus_15_1.geojson', 'Bus 15', 'Bus 15 1 desc'),
                    ('bus_15_2.geojson', 'Bus 15', 'Bus 15 2 desc'),
                    ('beirut_saida_1.geojson', 'Beirut Saida', 'Beirut Saida 1 desc'),
                    ('beirut_saida_2.geojson', 'Beirut Saida', 'Beirut Saida 2 desc'),
                    ('van_4_1.geojson', 'Van 4', 'Van 4 1 desc'),
                    ('van_4_2.geojson', 'Van 4', 'Van 4 2 desc'),
                    ('van_sea_road_1.geojson', 'Van sea road', 'Van sea road 1 desc'),
                    ('van_sea_road_2.geojson', 'Van sea road', 'Van sea road 2 desc'),
                    ('bus_2_1.geojson', 'Bus 2', 'Bus 2 1 desc'),
                    ('bus_2_2.geojson', 'Bus 2', 'Bus 2 2 desc'),
                    ('bus_10_1.geojson', 'Bus 10', 'Bus 10 1 desc'),
                    ('bus_10_2.geojson', 'Bus 10', 'Bus 10 2 desc'),
                    ('bus_24_1.geojson', 'Bus 24', 'Bus 24 1 desc'),
                    ('bus_24_2.geojson', 'Bus 24', 'Bus 24 2 desc');

                    INSERT INTO vehicle (route_id, phone_number, status) VALUES 
                     (2, '11111112', TRUE), (2, '11111113', TRUE),
                     (2, '11111114', TRUE), (1, '11111115', TRUE), (1, '11111116', TRUE);

                     INSERT INTO vehicle_location (longitude, latitude, vehicle_id) VALUES
                    (35.5149, 33.8966, 1),
                    (35.5119, 33.8979, 3),
                    (35.5295, 33.8987, 2),
                    (35.5276, 33.8990, 4);
                     
                    INSERT INTO waypoint (longitude, latitude, route_id, projection_index) VALUES 
                    (35.549782, 33.893595, 1, 0), (35.546651, 33.894754, 1, 72), (35.540836, 33.896257, 1, 132),
                     (35.531785, 33.898479, 1, 223), (35.522762, 33.898484, 1, 317), (35.508671, 33.899558, 1, 487),
                     (35.499918, 33.9022, 1, 600), (35.480682, 33.902845, 1, 841), (35.470241, 33.895071, 1, 1017),
                     (35.477784, 33.884366, 1, 1225), (35.489824, 33.880914, 1, 1359), (35.503598, 33.877785, 1, 1505),
                     (35.512224, 33.878551, 1, 1596), (35.521562, 33.879485, 1, 1689), (35.525905, 33.881088, 1, 1734),
                     (35.529818, 33.883615, 1, 1789), (35.534974, 33.87901, 1, 1884), (35.540011, 33.879761, 1, 1975),
                     
                    (35.540002, 33.879845, 2, 0), (35.538117, 33.878337, 2, 48), (35.531328, 33.883102, 2, 160),
                    (35.528302, 33.88242, 2, 220), (35.515335, 33.878857, 2, 358), (35.507801, 33.878318, 2, 432),
                    (35.491437, 33.880566, 2, 606), (35.4738, 33.887265, 2, 820), (35.470343, 33.89493, 2, 966),
                    (35.475335, 33.90162, 2, 1089), (35.485492, 33.90172, 2, 1199), (35.493217, 33.90122, 2, 1288),
                    (35.503917, 33.901601, 2, 1418), (35.512446, 33.897487, 2, 1543), (35.52458, 33.899189, 2, 1685),
                    (35.541633, 33.895861, 2, 1859), (35.549835, 33.893719, 2, 1947), (35.549777, 33.893579, 2, 1948),
                     
                    (35.494902, 33.875663, 3, 0), (35.493856, 33.862894, 3, 155), (35.493563, 33.848623, 3, 348),
                    (35.497731, 33.833362, 3, 555), (35.4982, 33.81763, 3, 797), (35.486706, 33.802825, 3, 997),
                    (35.477275, 33.784659, 3, 1248), (35.464307, 33.766235, 3, 1506), (35.453198, 33.741679, 3, 1829),
                    (35.441053, 33.701633, 3, 2342), (35.424672, 33.676096, 3, 2765), (35.423999, 33.656983, 3, 3016),
                    (35.402034, 33.630558, 3, 3479), (35.390934, 33.599087, 3, 3955), (35.386787, 33.588114, 3, 4099),
                    (35.38496, 33.582172, 3, 4171), (35.376466, 33.567235, 3, 4386), (35.37488, 33.565158, 3, 4423),
                     
                    (35.374861, 33.565187, 4, 0), (35.376099, 33.567906, 4, 74), (35.381682, 33.576067, 4, 194),
                    (35.402032, 33.60738, 4, 675), (35.419141, 33.651847, 4, 1351), (35.424938, 33.684284, 4, 1795),
                    (35.453706, 33.739151, 4, 2594), (35.466136, 33.767748, 4, 2971), (35.479172, 33.787295, 4, 3237),
                    (35.499392, 33.819022, 4, 3667), (35.502908, 33.830236, 4, 3825), (35.494105, 33.841819, 4, 4012),
                    (35.493976, 33.86115, 4, 4236), (35.495241, 33.875001, 4, 4403),
                     

                    (35.485447, 33.89684,  5, 0), (35.488068, 33.896187, 5, 32), (35.488936, 33.894374, 5, 72),
                    (35.495857, 33.894776, 5, 141), (35.506346, 33.891462, 5, 275), (35.506776, 33.883904, 5, 370),
                    (35.507143, 33.879831, 5, 419), (35.5084, 33.87567, 5, 480), (35.514994, 33.869782, 5, 573),
                    (35.516584, 33.865282, 5, 635), (35.519448, 33.85828, 5, 732), (35.519599, 33.856966, 5, 751),
                    (35.520861, 33.854238, 5, 789), (35.521598, 33.851316, 5, 828), (35.521288, 33.848443, 5, 870),
                    (35.515816, 33.848674, 5, 927), (35.516324, 33.844047, 5, 982), (35.517079, 33.837222, 5, 1075),
                    (35.517256, 33.833051, 5, 1137), (35.517322, 33.831661, 5, 1153), (35.517267, 33.830332, 5, 1183),
                    (35.515608, 33.829198, 5, 1210),
                     
                    (35.515581, 33.829171, 6, 0), (35.517508, 33.830229, 6, 33), (35.516949, 33.839385, 6, 181),
                    (35.515951, 33.848554, 6, 288), (35.521355, 33.848458, 6, 345), (35.520842, 33.854544, 6, 433),
                    (35.519701, 33.859151, 6, 499), (35.516476, 33.867362, 6, 615), (35.508585, 33.875683, 6, 745),
                    (35.507298, 33.879817, 6, 802), (35.506878, 33.884931, 6, 864), (35.506686, 33.890938, 6, 947),
                    (35.506919, 33.894014, 6, 995), (35.505105, 33.892552, 6, 1049), (35.496095, 33.895225, 6, 1166),
                    (35.495225, 33.895679, 6, 1183), (35.490888, 33.895315, 6, 1229), (35.488928, 33.895307, 6, 1249),
                    (35.484921, 33.895319, 6, 1292), (35.485421, 33.896841, 6, 1310),
                     
                    (35.491081, 33.901858, 7, 0), (35.483411, 33.902415, 7, 166), (35.471658, 33.900443, 7, 294), (35.477483, 33.884814, 7, 574),
                    (35.485399, 33.881194, 7, 673), (35.486209, 33.877556, 7, 729), (35.486155, 33.876384, 7, 743), (35.486208, 33.873462, 7, 782),
                    (35.485911, 33.863582, 7, 899), (35.486289, 33.860093, 7, 959), (35.493569, 33.859781, 7, 1034), (35.493712, 33.858154, 7, 1062),
                    (35.499498, 33.859456, 7, 1146), (35.50302, 33.859115, 7, 1184),
                     

                    (35.502304, 33.859348, 8, 0), (35.49441, 33.859983, 8, 77), (35.486012, 33.860569, 8, 175),
                    (35.486422, 33.866935, 8, 254), (35.486383, 33.873178, 8, 348), (35.486779, 33.879689, 8, 434),
                    (35.484797, 33.882053, 8, 474), (35.473984, 33.886964, 8, 615), (35.470563, 33.895946, 8, 780),
                    (35.475335, 33.90162, 8, 889), (35.490564, 33.901384, 8, 1054),
                    
                    (35.483562, 33.893968, 9, 0), (35.484361, 33.892556, 9, 29), (35.484483, 33.890219, 9, 70),
                    (35.491667, 33.889563, 9, 148), (35.500984, 33.888823, 9, 253), (35.506302, 33.887186, 9, 314),
                    (35.516141, 33.88674, 9, 437), (35.520856, 33.88903, 9, 512), (35.520633, 33.893019, 9, 571),
                    (35.51913, 33.893899, 9, 608), (35.519604, 33.895171, 9, 625), (35.523653, 33.896005, 9, 671),
                    (35.527177, 33.897398, 9, 717), (35.527653, 33.899118, 9, 739), (35.542167, 33.895717, 9, 887),
                    (35.551764, 33.892753, 9, 999), (35.554893, 33.889869, 9, 1072), (35.560622, 33.892323, 9, 1140),
                    (35.563748, 33.893042, 9, 1200), (35.569848, 33.898139, 9, 1314), (35.575792, 33.903067, 9, 1410),
                    (35.580226, 33.906865, 9, 1478), (35.584881, 33.912213, 9, 1571), (35.589516, 33.916571, 9, 1653),
                     
                    (35.58947, 33.916611, 10, 0), (35.586792, 33.909081, 10, 147), (35.576571, 33.895227, 10, 364),
                    (35.565785, 33.890843, 10, 598), (35.558937, 33.892439, 10, 707), (35.551222, 33.893203, 10, 798),
                    (35.54156, 33.896073, 10, 910), (35.51822, 33.892648, 10, 1227), (35.520407, 33.887169, 10, 1344),
                    (35.508123, 33.886815, 10, 1475), (35.496394, 33.889314, 10, 1611), (35.484711, 33.890204, 10, 1740),
                    (35.483487, 33.892736, 10, 1780), (35.483562, 33.893968, 10, 1798),

                    (35.549782, 33.893596, 11, 0), (35.542988, 33.895705, 11, 109), (35.523046, 33.898627, 11, 313),
                    (35.507177, 33.8973, 11, 487), (35.506332, 33.888945, 11, 591), (35.507249, 33.87847, 11, 718),
                    (35.506918, 33.867797, 11, 851), (35.504698, 33.86258, 11, 923), (35.502182, 33.856487, 11, 999),
                    (35.498361, 33.844467, 11, 1150), (35.496027, 33.837095, 11, 1243), (35.492738, 33.826098, 11, 1411),
                     

                    (35.493105, 33.826017, 12, 0), (35.494425, 33.831323, 12, 113), (35.496585, 33.838183, 12, 200),
                    (35.501264, 33.853002, 12, 388), (35.504629, 33.862086, 12, 501), (35.507228, 33.869704, 12, 598),
                    (35.506888, 33.88482, 12, 786), (35.507663, 33.89716, 12, 961), (35.526202, 33.899282, 12, 1173),
                    (35.549852, 33.893721, 12, 1418), (35.549771, 33.893577, 12, 1419),
                     
                    (35.487638, 33.893756, 13, 0), (35.486497, 33.892562, 13, 22), (35.484351, 33.890838, 13, 56),
                    (35.483221, 33.888509, 13, 91), (35.4832, 33.883082, 13, 163), (35.485811, 33.881659, 13, 201),
                    (35.494389, 33.879549, 13, 296), (35.504843, 33.877539, 13, 406), (35.519881, 33.879005, 13, 559),
                    (35.518277, 33.876596, 13, 610),
                     
                    (35.518277, 33.876596, 14, 0), (35.512011, 33.878626, 14, 76), (35.497042, 33.878941, 14, 229),
                    (35.486205, 33.881807, 14, 349), (35.485441, 33.883307, 14, 373), (35.486451, 33.885695, 14, 409),
                    (35.486998, 33.888785, 14, 448), (35.483837, 33.891497, 14, 524), (35.483317, 33.893952, 14, 559),
                    (35.487638, 33.893756, 14, 611);
                     
                     
                    INSERT INTO feedback (passenger_id, vehicle_id, reaction, complaint) VALUES
                     (1, 2, True, Null),
                     (4, 4, False, 'bad condition');
                     """)
    
    
    await db.close()



if __name__ == "__main__":
    asyncio.run(main())